= 2023년 1분기 01월-03월 LWIL(Last week I learnt) 모음
// Metadata:
:description: Last Week I Learnt
:keywords: study, til, lwil
// Settings:
:doctype: book
:toc: left
:toclevels: 4
:sectlinks:
:icons: font

[[section-202301]]
== 2023년 1월

[[section-202301-W1]]
=== 2023년 1월 1주
- wongue: 2023 첫 해가 밝았다. 이번 해에는 좀 더 능동적으로 움직이는 한 해가 되고자 한다. +
개발이야기: flutter Bloc 을 도입해봤는데, Steram builder 의 인터페이스를 잘 알아놓으니 도움이 많이 되었다.
- youjin: 인터렉티브 애니메이션을 만들 수 있는 Rive 로 저번 주에 아주 간단한 체크박스를 만들어봤다. 앞으로 우리가 체크 박스라던가, 다른 조그만한 요소에 활용할 수 있을거라 생각한다. + 
Rive 에서 state 별로 init 에 애니메이션을 줄지, event 를 진행하는 setState 때 애니메이션을 시작할지, 혹은 controller 에 따라서도 애니메이션을 줄 수 있다는 점이 새롭고 재밌었다.

[[section-202301-W2]]
=== 2023년 1월 2주
image::https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication/http-auth-sequence-diagram.png[500,500]
- wongue: +
MDN web docs 에서 설명하는 HTTP authorization flow 그림이다. +
인증을 시작하는 call 에 header 로 Basic {id:password - base64 encode} 를 넣어 보내게 되는데, +
base64 로 인코드 했지만 이는 평문이여서 https 통신을 이용하더라도 중간자 공격에 취약하지 않나 생각이 든다. +
아무래도 보안을 위해서는 암호문을 보내는게 좋지 않을까 싶다. +
++ 역시 찾아보니 Digest_access_Authentication 이라는게 있었다.+ 
https://en.wikipedia.org/wiki/Digest_access_authentication

- hwan: Kotlin 에서 길이가 서로 같은 collection 을 돌면서 무언가를 해야 할 때는 `zip` 을 쓰면 편하다.
+
[source,kotlin]
----
val list1 = listOf(1,2,3)
val list2 = listOf(4,5,6)
list1.zip(list2).forEach { (item1, item2) ->
    println("$item1 : $item2")
}
----
- youjin: 스터디에서 알게 되었는데, 메모이제이션 패턴은 별도의 캐시 공간 또는 메서드의 속성에 전달 받은 파라미터 조합으로 식별자를 키로 만들고, 
연산 결과를 캐시해서 같은 파라미터에 대해 중복 연산 수행 없이 캐시된 데이터를 사용하는 것을 말한다. + 
일본은 지하철 표를 살 때, 목적지에 해당하는 금액을 클릭하여 표를 구매한다. (엄청 헷갈려서 옆에 일본인분께 도움을 요청드렸다.) 

- gon : Elixir라는 언어를 알게되었느데 굉장히 흥미롭다. 해당언어의 웹프레임워크인 Phoenix를 이용하여 client가 상태를 전혀 관리하지않고 상태를 오로지 서버에서 관리하는 웹을 구현하여 보여주는데 굉장히 흥미로웠다.
Erlang의 내부구조덕분에  가능한것이라한다. Erlang의 내부구조는 코틀린의 코루틴이나 java의 파이버와 굉장히 유사한것 같다

[[section-202301-W3]]
=== 2023년 1월 3주
- hwan: IntelliJ 에서 함수나 class 의 상세 구현을 보는 동작을 "Go to declaration" 이라고 한다. 그리고 만약 그 상세구현이 지금 편집중인 파일과 다른 파일에 있다면, Go to declaration 이 동작하면 새 탭이 열리며 내용을 보여준다.
+
그런데 2022.3.1 업데이트에서 New UI 를 적용할 경우 이 Go to declaration 기능이 다르게 동작한다. Visual studio code 처럼 한 탭을 계속 재활용하는 방식으로 변경되어 버리는 것이다. 탭의 파일 이름을 보면 기울임체(italic) 으로 나오는게 바로 그 현상이다.
+
10여년 가까이 쓰던 제품의 동작이 한순간에 바뀌니 적응도 안되고 매우 불편했었는데, 간단하게 설정을 바꿀 수 있었다. 바로:
+
File > Settings > Editor > General > Editor tabs 에 진입한 뒤, Opening policy 항목의 "Enable preview tab" 항목의 체크를 비활성화 하면 된다.

- wongue: https://pub.dev/packages/flutter_secure_storage 시큐어 스토리지를 지원하는 패키지가 있는걸 발견했다. +
 분명히 패키지가 제공하는 스토리지 클래스 내부에는 init 로직이 있을것임에도 불구하고, 사용하기 위해서 별도의 초기화 동작이 필요없고, +
 단순히 객체를 생성해 read, write 를 바로 할 수 있는 것을 보고 잘 짜여진 코드라는 생각이 들었다. +

- yoonho: +
core는 외부에 의존하지 않는다. +
알고 있었고 그렇게 하고 있었던 것이었다. +
지난주 알림톡 task를 진행하면서 직접적으로 의존성을 갖지는 않았지만 +
의미적으로 core에서 외부 시스템을 의존하도록 만들었다가 수정한 적이 있었고, +
core가 결국에는 외부에 의존하게 되었다는 것을 새삼 깨달았다.

- gon: 메모리를 공부하다보면 cpu register에 관한 설명이 빠진글도 있고 있는 글도있는데 이유를 살펴보니 먼저 우리가 만드는 user mode에서는 cpu의 레지스터를 관리 할 수 없다. +
보통 cpu -> cpu cache 만 말하는데 엄밀히 애기하자면 중간에 register가 있다

[[section-202301-W5]]
=== 2023년 1월 5주
- youjin: 포스트맨에서 Authorization 을 계속 갱신하고 싶은 경우엔, Postman의 환경변수에 accessToken과, refreshToken 을 저장하고, 토큰을 받는 api를 호출하면 갱신해가면서 사용할 수 있다.
아래는 Postman의 tests 환경변수에 accessToken과, refreshToken 을 저장하는 코드이다.
```shell
pm.environment.set("accessToken", pm.response.json().accessToken);
pm.environment.set("refreshToken", pm.response.json().refreshToken);
```
- wongue: 이번에 알게 된 사실인데, 게임의 UI를 웹 뷰를 사용해 구현을 하는 경우가 있다고 한다. +
자체 앤진의 UI 프레임워크를 사용하는것에 비해 가지는 이점은, 배포가 스토어에서 자유롭다는것과 web 생태계의 패키지를 사용 할 수 있다는 점이다. +
이 장점이 개발자 팀을 서버, 클라이언트, UI 웹뷰 개발자 로 나눠야 할 만큼 큰지 궁금하다.

- hwan: curl 로 jenkins task 를 실행하는 법
  * https://blog.leocat.kr/notes/2019/06/21/jenkins-remote-triggering-without-authentication
  * https://gist.github.com/janpapenbrock/084cb9c94af5f2759062b0494430dbbb

물론 jenkins 를 외부에 노출한 환경에서는 이런 설정을 매우 조심해야겠지...

